<?php

namespace DotAim\Base;

abstract class Shortcode
{

	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * ABSTRACT METHODS - START
	 * -------------------------------------------------------------------------
	 * ====================================================================== */

	/**
	 * @since 1.0.0
	 */
	abstract public function output( $atts, $content = '' );

	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * ABSTRACT METHODS
	 * -------------------------------------------------------------------------
	 * ====================================================================== */



	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * PROPERTIES - START
	 * -------------------------------------------------------------------------
	 * ====================================================================== */

	/**
	 * @since 1.0.0
	 */
	protected $core;

	/**
	 * @since 1.0.0
	 */
	public $name;

	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * PROPERTIES
	 * -------------------------------------------------------------------------
	 * ====================================================================== */



	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * MAGIC METHODS - START
	 * -------------------------------------------------------------------------
	 * ====================================================================== */

	/**
	 * @since 1.0.0
	 */
	public function __construct( $core )
	{

		$this->core = $core;

		// ---------------------------------------------------------------------

		add_shortcode( $this->name(), array( $this, 'output' ) );

	}
	// __construct()

	/* =========================================================================
	 * -------------------------------------------------------------------------
	 * MAGIC METHODS
	 * -------------------------------------------------------------------------
	 * ====================================================================== */



	/**
	 * @since 1.0.0
	 */
	public function name()
	{

		if ( ! empty( $this->{__FUNCTION__} ) )
		{
			return $this->{__FUNCTION__};
		}

		// ---------------------------------------------------------------------

		$class_name = $this->core->NS()->class_name( get_class( $this ) );

		// ---------------------------------------------------------------------

		$this->{__FUNCTION__} = strtolower( $class_name );

		// ---------------------------------------------------------------------

		return $this->{__FUNCTION__};

	}
	// name()

}
// class Shortcode
